webpackJsonp([2],{"+Hgi":function(t,e){},"/rde":function(t,e){},"4/gQ":function(t,e){},"4I5f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("tkpd")},"data-v-a6d8d258",null);e.default=c.exports},"4fg9":function(t,e){},"6MJK":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("erpL")},"data-v-56816564",null);e.default=c.exports},"B/eQ":function(t,e){},DiR2:function(t,e,i){"use strict";var s={name:"",data:function(){return{load:!1}},props:{type:{type:String},width:{type:String},height:{type:String}},methods:{block:function(){this.load=!0},none:function(){this.load=!1}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}],staticClass:"circle-load",class:{absolute:"absolute"===this.type},style:{width:this.width,height:this.height}},[e("svg",{attrs:{viewBox:"25 25 50 50"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"20"}})])])},staticRenderFns:[]};var n=i("C7Lr")(s,a,!1,function(t){i("gvJt")},"data-v-0f07c651",null);e.a=n.exports},E4Ld:function(t,e){},Ecpy:function(t,e){},Ff8s:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("R7ni");var s=i("AJHw"),a=i("lC5x"),n=i.n(a),o=i("J0Oq"),r=i.n(o),c=i("ZLEe"),l=i.n(c),d=i("mdS2"),u=i("QXrQ"),v=i("DiR2"),h=i("Jgv7"),m=i("pNK0"),f=i("gyMJ"),p={name:"",data:function(){return{pause:"pause",play:"",timer:null,playTime:"00:00",progressWidth:0}},props:{videoId:{type:String},allTime:{type:Number}},filters:{setCount:function(t){return Object(m.c)(t)},setTime:function(t){return Object(m.d)(t)}},methods:{playVideo:function(t){var e=this;this.$nextTick(r()(n.a.mark(function i(){var s,a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(s=e.$refs.video).src.includes("localhost")){i.next=7;break}return e.$refs.load.block(),i.next=5,f.a.getVideoUrlFn(t);case 5:a=i.sent,s.src=a.data.urls[0].url;case 7:s.paused?e.videoPlay(s):e.videoPause(s);case 8:case"end":return i.stop()}},i,e)})))},setBarTime:function(){var t=this.$refs.video,e=Math.floor(t.currentTime/60),i=Math.floor(t.currentTime-60*e),s=(e<10?"0"+e:e)+":"+(i<10?"0"+i:i);this.playTime=s;var a=t.currentTime/t.duration*100;this.setProgress(a)},setProgress:function(t){t<0||t>100||(this.progressWidth=t)},startPlay:function(){this.$refs.load.none()},videoPlay:function(t){t.play(),this.play="play",this.pause="",this.hideFnBtn()},changeTime:function(t){var e=this.$refs.video,i=t*e.duration/100;e.currentTime=i,this.videoPlay(e)},videoPause:function(t){t.pause(),this.hideFnBtn(),this.pause="pause",this.play=""},hideFnBtn:function(){var t=this;t.$refs.fnBtn.style.display="block",t.$emit("blockNav"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.$refs.fnBtn.style.display="none",t.$emit("hideNav")},2e3)}},components:{circleLoading:v.a,bar:h.a}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"playVideo",staticClass:"play-video",on:{touchstart:t.hideFnBtn}},[i("circle-loading",{ref:"load",staticClass:"none",attrs:{type:"absolute",width:"6.7rem",height:"3.8rem"}}),t._v(" "),i("video",{ref:"video",staticClass:"video_tag",attrs:{src:"localhost"},on:{canplay:t.startPlay,timeupdate:t.setBarTime}}),t._v(" "),i("div",{ref:"fnBtn",staticClass:"fn-btn",on:{click:function(t){t.stopPropagation()}}},[i("span",{ref:"button",staticClass:"center-bofang"},[i("i",{staticClass:"video",class:{videobofang1:"pause"===t.pause,videozantingtingzhi:"play"===t.play},on:{click:function(e){return t.playVideo(t.videoId)}}})]),t._v(" "),i("bar",{staticClass:"bar",attrs:{time:t.playTime,width:t.progressWidth,allTime:t.allTime},on:{time:t.changeTime}})],1)],1)},staticRenderFns:[]};var _=i("C7Lr")(p,g,!1,function(t){i("/rde")},"data-v-80a2999a",null).exports,C={name:"",props:{avatarUrl:{type:String},nickname:{type:String}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-creator border-top"},[e("div",{staticClass:"left"},[e("div",{staticClass:"img-info"},[e("img",{attrs:{src:this.avatarUrl+"?param=50y50",alt:""}})]),this._v(" "),e("span",{staticClass:"author"},[this._v(this._s(this.nickname))])]),this._v(" "),e("div",{staticClass:"concern tag-group"},[this._v("+ 关注")])])},staticRenderFns:[]};var y=i("C7Lr")(C,b,!1,function(t){i("lF0V")},"data-v-09931262",null).exports,w={name:"",props:{title:{type:String},playTime:{type:Number},praisedCount:{type:Number},commentCount:{type:Number},shareCount:{type:Number},subscribeCount:{type:Number},videoGroup:{type:Array}},filters:{setNum:function(t){return Object(m.c)(t)},setName:function(t){return t=t.replace(/#/g,"")}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-info-wra"},[i("h1",{staticClass:"video-title twoLinesEllipsis"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"video-info-top"},[i("span",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.playTime))+"次观看")]),t._v(" "),t._l(t.videoGroup,function(e,s){return i("span",{key:s,staticClass:"tag-group"},[t._v("#"+t._s(t._f("setName")(e.name))+"#")])})],2),t._v(" "),i("div",{staticClass:"video-btn"},[i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info zan"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.praisedCount)))])]),t._v(" "),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info tianjiawenjian"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.subscribeCount)))])]),t._v(" "),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info videopinglun"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.commentCount)))])]),t._v(" "),i("span",{staticClass:"icon-btn"},[i("i",{staticClass:"video-info videofenxiang"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setNum")(t.shareCount)))])])])])},staticRenderFns:[]};var k=i("C7Lr")(w,x,!1,function(t){i("TDbU")},"data-v-67cbbc3f",null).exports,N=i("dd/g"),L=i("ISPS"),F=i("rAYK"),S={name:"",data:function(){return{load:!0,allLoad:{detail:!1,comments:!1,videoRelated:!1},videoId:"",allTime:0,title:"",total:0,playTime:0,praisedCount:0,commentCount:0,shareCount:0,subscribeCount:0,avatarUrl:"",nickname:"",videoComments:[],hotComments:[],comments:[],isShow:!1,input:"",top:"",placeholder:"",creatorFixed:!1,allVideoList:[],videoGroup:[]}},activated:function(){this.load=!0,this.title="",this.videoId="",this.params=this.$route.params;var t=this.params;0===l()(t).length&&this.$router.back(),this.videoId=t.id,this.getAllInfo(t.id)},methods:{getAllInfo:function(t){var e=this;return r()(n.a.mark(function i(){var s,a,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e._getVideoDetail(t);case 2:return s=i.sent,i.next=5,e._getVideoRelated(t);case 5:return a=i.sent,i.next=8,e._getVideoComments(t);case 8:o=i.sent,s&&a&&o&&(e.load=!1);case 10:case"end":return i.stop()}},i,e)}))()},_getVideoDetail:function(t){var e=this;return r()(n.a.mark(function i(){var s,a,o,r,c,l,d,u,v,h,m,p,g,_;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.a.getVideoDetailFn(t);case 2:if(s=i.sent,200!==(a=s.data).code){i.next=18;break}return o=a.data,r=o.durationms,c=o.title,l=o.videoGroup,d=o.playTime,u=o.praisedCount,v=o.commentCount,h=o.shareCount,m=o.subscribeCount,p=a.data.creator,g=p.avatarUrl,_=p.nickname,e.allTime=r,e.title=c,e.playTime=d,e.praisedCount=u,e.commentCount=v,e.shareCount=h,e.subscribeCount=m,e.avatarUrl=g,e.nickname=_,e.videoGroup=l,i.abrupt("return",!0);case 18:return i.abrupt("return",!1);case 19:case"end":return i.stop()}},i,e)}))()},_getVideoRelated:function(t){var e=this;return r()(n.a.mark(function i(){var s,a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.a.getVideoRelatedFn(t);case 2:if(s=i.sent,200!==(a=s.data).code){i.next=7;break}return e.allVideoList=a.data,i.abrupt("return",!0);case 7:return i.abrupt("return",!1);case 8:case"end":return i.stop()}},i,e)}))()},_getVideoComments:function(t){var e=this;return r()(n.a.mark(function i(){var s,a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.a.getVideoCommentsFn(t);case 2:if(s=i.sent,200!==(a=s.data).code){i.next=9;break}return e.total=a.total,e.hotComments=a.hotComments,e.comments=a.comments,i.abrupt("return",!0);case 9:return i.abrupt("return",!1);case 10:case"end":return i.stop()}},i,e)}))()},showMenu:function(){this.isShow=!0},scroll:function(t){this.$refs.wra.scrollTop>=148?(this.creatorFixed=!0,this.top="1.2rem"):(this.creatorFixed=!1,this.top="0")},pushCom:function(t){var e=this;if(t){s.a.allowMultiple();var i=s.a.loading({forbidClick:!0,duration:1e3}),a=this.params.id;f.a.pushComFn(5,a,t).then(function(t){200===t.data.code&&(e.input="",i.clear(),Object(s.a)({position:"bottom",message:"发表成功"}),e._getVideoComments(a))}).catch(function(t){t&&(i.clear(),Object(s.a)("当前未登录"))})}else Object(s.a)({position:"bottom",message:"评论为空"})},delCom:function(t){var e=this,i=this.params.id;f.a.delComFn(5,i,t).then(function(t){200===t.data.code&&(e.hideMenu(),e._getVideoComments(i))})},updateShow:function(t){this.isShow=t},hideNav:function(){this.$refs.nav.none()},likeComment:function(t,e){var i=this,s=this.params.id;f.a.commentLikeFn(s,t,e,5).then(function(t){200===t.data.code&&i._getVideoComments(s)})},blockNav:function(){this.$refs.nav.block()},returnPage:function(){this.$router.go(-1)}},components:{pageLoading:d.a,videoCard:_,videoInfo:k,videoCreator:y,generalNav:L.a,comments:u.a,videoList:N.a,centerMenu:F.a}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-com"},[i("div",{staticClass:"titleFixed"},[i("general-nav",{ref:"nav",staticClass:"fixed nav-color",on:{returnPage:t.returnPage}},[i("span",{staticClass:"text"},[t._v(t._s(t.title))])]),t._v(" "),i("video-card",{attrs:{videoId:t.videoId,allTime:t.allTime},on:{blockNav:t.blockNav,hideNav:t.hideNav}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],ref:"wra",staticClass:"bottom-wra",on:{scroll:t.scroll}},[i("video-info",{staticClass:"pd23",attrs:{title:t.title,playTime:t.playTime,praisedCount:t.praisedCount,commentCount:t.commentCount,shareCount:t.shareCount,subscribeCount:t.subscribeCount,videoGroup:t.videoGroup.slice(0,3)}}),t._v(" "),i("video-creator",{class:{creatorFixed:t.creatorFixed},attrs:{avatarUrl:t.avatarUrl,nickname:t.nickname}}),t._v(" "),i("div",{staticClass:"split",style:{marginTop:t.top}}),t._v(" "),i("h1",{staticClass:"pd23 title"},[t._v("相关视频")]),t._v(" "),t._l(t.allVideoList,function(t,e){return i("video-list",{key:e,staticClass:"pd23",attrs:{videoList:!0,line:"two",ImgUrl:t.coverUrl,name:t.title,durationms:t.durationms,nicknames:t.creator,playTime:t.playTime}})}),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("comments",{directives:[{name:"show",rawName:"v-show",value:t.hotComments.length,expression:"hotComments.length"}],staticClass:"pd23",attrs:{title:"精彩评论",comments:t.hotComments},on:{showMenu:t.showMenu,likeComment:t.likeComment}}),t._v(" "),i("comments",{directives:[{name:"show",rawName:"v-show",value:t.comments.length,expression:"comments.length"}],staticClass:"pd23",attrs:{title:"最新评论",total:t.total,comments:t.comments},on:{showMenu:t.showMenu,likeComment:t.likeComment}}),t._v(" "),i("van-search",{staticClass:"border-top commentInp",attrs:{placeholder:t.placeholder,"show-action":"",clearable:!1,background:"#fff","left-icon":""},on:{search:function(e){return t.pushCom(t.input)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[i("div",{class:{disable:!t.input},attrs:{slot:"action"},on:{click:function(e){return t.pushCom(t.input)}},slot:"action"},[t._v("发送")])]),t._v(" "),i("center-menu",{attrs:{isShow:t.isShow},on:{"update:show":t.updateShow,delCom:t.delCom}})],2),t._v(" "),i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]})],1)},staticRenderFns:[]};var $=i("C7Lr")(S,I,!1,function(t){i("qHVW")},"data-v-ced1a802",null);e.default=$.exports},H1Dm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("lC5x"),a=i.n(s),n=i("J0Oq"),o=i.n(n),r=i("gyMJ"),c={name:"",data:function(){return{dataInfo:[]}},created:function(){},methods:{_getFriendInfo:function(){var t=this;return o()(a.a.mark(function e(){var i,s,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.friendFn();case 2:i=e.sent,200===(s=i.data).code&&(n=s.event,t.dataInfo=t.getJson(n));case 5:case"end":return e.stop()}},e,t)}))()},getJson:function(t){var e=[];return t.forEach(function(t,i){e.push(JSON.parse(t.json));var s=t.rcmdInfo?t.rcmdInfo.userReason:"";e[i].userReason=s}),e}},components:{}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"friend-wra"},[t._v("\n  静待...\n  "),i("br"),t._v(" "),i("br"),t._v("欢迎访问我的 GitHub\n  "),i("br"),t._v(" "),i("br"),t._v(" "),i("a",{attrs:{href:"https://github.com/powerdong/Music-player",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目地址")]),t._v(" "),i("br"),t._v(" "),i("br"),t._v("您的 star 是我最大的鼓励\n")])}]};var d=i("C7Lr")(c,l,!1,function(t){i("svA8")},"data-v-b5492624",null);e.default=d.exports},INaQ:function(t,e){},Ll5C:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("ISPS"),a={name:"",props:{dataInfo:{type:Boolean}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dynamic"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!this.dataInfo,expression:"!dataInfo"}],staticClass:"data-info"},[this._v("暂时还没有动态哦")])])},staticRenderFns:[]};var o=i("C7Lr")(a,n,!1,function(t){i("M6td")},"data-v-ae1551a4",null).exports,r=i("pNK0"),c=i("gyMJ"),l=i("vynH"),d={name:"",data:function(){return{active:"first",iTitle:"",cover:"0.2",opacity:1,listFixed:!1,position:!0,coverFixed:!1,top:"0rem",level:0,dataInfo:!0,gender:0,signature:"",age:0,listenSongs:0,year:0,astro:"",month:0,newFollows:0,followeds:0,birthday:0,nickname:"",coverImgUrl:"http://p1.music.126.net/2zSNIqTcpHL2jIvU6hG0EA==/109951162868128395.jpg"}},filters:{setAge:function(t){return Object(r.a)(t)}},activated:function(){this.active="first";var t=localStorage.getItem("accountUid");this._getUserInfo(t),this._getUserEvent(t)},methods:{_getUserInfo:function(t){var e=this;t&&c.a.userDetailFn(t).then(function(t){var i,s,a=t.data;if(200===a.code){var n=a.profile,o=n.nickname,r=n.newFollows,c=n.followeds,l=n.birthday,d=n.signature,u=n.gender;e.nickname=o,e.newFollows=r,e.followeds=c,e.birthday=l,e.gender=u,e.signature=d,e.level=a.level;var v=a.createTime,h=new Date(v);e.listenSongs=a.listenSongs,e.year=h.getFullYear(),e.month=h.getMonth()+1,e.age=parseInt(a.createDays/365),e.astro=(i=h.getMonth()+1,s=h.getDate(),"魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*i-2*(s<"102223444433".charAt(i-1)- -19),2)),console.log(a)}})},_getUserEvent:function(t){var e=this;c.a.userEventFn(t).then(function(t){var i=t.data;200===i.code&&(console.log(i),0===i.events.length&&(e.dataInfo=!1))})},scrollList:function(t){var e=this.$el.scrollTop;console.log(e),this.cover=e/1e3+.3,this.opacity=1-e/500,this.cover>.6?(this.cover=.6,this.opacity=.4):(this.cover=e/1e3+.3,this.opacity=1-e/500),e>=220?(this.iTitle=this.nickname,this.listFixed=!0,this.coverFixed=!0,this.position=!1,this.top="6.6rem"):(this.iTitle="",this.listFixed=!1,this.coverFixed=!1,this.position=!0,this.top="0")},returnPage:function(){this.$router.go(-1)},changeToFirst:function(){this.active="first"},changeToSecond:function(){this.active="second"}},components:{generalNav:s.a,changeNav:l.a,userDynamic:o}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",on:{scroll:t.scrollList}},[i("general-nav",{staticClass:"fixed nav-color",on:{returnPage:t.returnPage}},[i("span",{staticClass:"text"},[t._v(t._s(t.iTitle))])]),t._v(" "),i("div",{staticClass:"container-top",class:{coverFixed:t.coverFixed,position:t.position},style:{backgroundImage:"url("+t.coverImgUrl+")"}},[i("div",{staticClass:"cover",style:{backgroundColor:"rgba(0, 0, 0, "+t.cover+")"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.listFixed,expression:"!listFixed"}],staticClass:"data",style:{opacity:t.opacity}},[t._m(0),t._v(" "),i("div",{staticClass:"user-info-content"},[i("div",{staticClass:"user-info-left"},[i("div",{staticClass:"user-nickname"},[t._v(t._s(t.nickname))]),t._v(" "),i("div",{staticClass:"follow-wrapper"},[i("span",{staticClass:"follows"},[t._v("关注 "+t._s(t.newFollows))]),t._v(" "),i("span",{staticClass:"item"},[t._v("|")]),t._v(" "),i("span",{staticClass:"followed"},[t._v("粉丝 "+t._s(t.followeds))])]),t._v(" "),i("div",{staticClass:"age-level"},[i("span",{staticClass:"age"},[i("i",{staticClass:"userInfo",class:{userInfonv:2===t.gender,userInfonan:1===t.gender}}),t._v("\n              "+t._s(t._f("setAge")(t.birthday))+"后\n            ")]),t._v(" "),i("span",{staticClass:"level"},[t._v("Lv."+t._s(t.level))])])]),t._v(" "),t._m(1)])])]),t._v(" "),i("change-nav",{class:{listFixed:t.listFixed},attrs:{active:t.active,firstNav:"主页",secondNav:"动态"},on:{changeToSecond:t.changeToSecond,changeToFirst:t.changeToFirst}}),t._v(" "),i("div",{staticClass:"container-bottom pd23",style:{marginTop:t.top}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"first"===t.active,expression:"active==='first'"}],staticClass:"home"},[i("h1",{staticClass:"title"},[t._v("基本信息")]),t._v(" "),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("个人介绍：")]),t._v(" "),i("span",{staticClass:"list-con"},[t._v(t._s(t.signature))])]),t._v(" "),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("村龄：")]),t._v(" "),i("span",{staticClass:"list-con"},[t._v(t._s(t.age)+"年（"+t._s(t.year)+"年"+t._s(t.month)+"月注册）")])]),t._v(" "),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("年龄：")]),t._v(" "),i("span",{staticClass:"list-con-age"},[t._v(t._s(t._f("setAge")(t.birthday))+"后")]),t._v(" "),i("span",{staticClass:"list-con-astro"},[t._v(t._s(t.astro)+"座")])]),t._v(" "),i("p",{staticClass:"list-info"},[i("span",{staticClass:"list-name"},[t._v("累计听歌：")]),t._v(" "),i("span",{staticClass:"list-con-con"},[t._v(t._s(t.listenSongs)+"首")])])]),t._v(" "),i("user-dynamic",{directives:[{name:"show",rawName:"v-show",value:"second"===t.active,expression:"active==='second'"}],attrs:{dataInfo:t.dataInfo}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-img"},[e("img",{attrs:{src:"http://p1.music.126.net/86ildkNdYbtpJZLyGGsOSg==/109951163982316131.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-info-right"},[e("div",{staticClass:"edit"},[this._v("编辑")]),this._v(" "),e("div",{staticClass:"change-bg"},[this._v("更换背景")])])}]};var v=i("C7Lr")(d,u,!1,function(t){i("Uxjm")},"data-v-4249ff96",null);e.default=v.exports},M6td:function(t,e){},OdCA:function(t,e){},PXDy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"",data:function(){return{chooseListTag:[{path:"/videoPage/musicFestival",text:"音乐节"},{path:"/videoPage/scene",text:"广告"},{path:"/videoPage/listenBGM",text:"听BGM"},{path:"/videoPage/singing",text:"娱乐"},{path:"/videoPage/dance",text:"流行"},{path:"/videoPage/ACG",text:"ACG"},{path:"/videoPage/rock",text:"摇滚"},{path:"/videoPage/game",text:"游戏"},{path:"/videoPage/animation",text:"动漫"}],list:[{id:0}]}},created:function(){this._getVideoTag()},methods:{_getVideoTag:function(){var t=this;s.a.getVideoTagFn().then(function(e){var i=e.data;200===i.code&&i.data.filter(function(e){t.chooseListTag.forEach(function(t){e.name===t.text&&("音乐节"===t.text?t.path=t.path:(t.path=t.path+"/"+e.id,t.text=e.name))})});console.log(t.list)})}},components:{sliderNav:i("94d3").a}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("slider-nav",{attrs:{list:this.chooseListTag}}),this._v(" "),e("keep-alive",[e("router-view",{staticStyle:{height:"87vh","overflow-y":"scroll"}})],1)],1)},staticRenderFns:[]};var o=i("C7Lr")(a,n,!1,function(t){i("ujvf")},"data-v-7cd7bb01",null);e.default=o.exports},Potm:function(t,e){},QXrQ:function(t,e,i){"use strict";var s=i("pNK0"),a=i("f0X5"),n={name:"",props:{total:{type:Number},comments:{type:Array},title:{type:String}},filters:{setTime:function(t){return Object(s.b)(t,"月","日")}},methods:{likeThisComment:function(t,e){var i=1;e&&(i=0),this.$emit("likeComment",t,i)},showMenu:function(t){console.log(t),+localStorage.getItem("accountUid")===t.user.userId&&a.a.$emit("user",!0),a.a.$emit("comId",t.commentId),this.$emit("showMenu")},setCon:function(t){return t=t.replace(/(\n)|(\r\n)/g,"<br />")}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("h1",{staticClass:"title"},[t._v("\n    "+t._s(t.title)+"\n    "),i("span",{staticClass:"num"},[t._v(t._s(t.total))])]),t._v(" "),t._l(t.comments,function(e,s){return i("div",{key:s,staticClass:"item border-bottom",on:{click:function(i){return t.showMenu(e)}}},[i("div",{staticClass:"left-img"},[i("img",{attrs:{src:e.user.avatarUrl+"?param=50y50",alt:""}})]),t._v(" "),i("div",{staticClass:"right-info"},[i("div",{staticClass:"top-info"},[i("div",{staticClass:"data"},[i("div",{staticClass:"nickname"},[t._v(t._s(e.user.nickname))]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(t._f("setTime")(e.time)))])]),t._v(" "),i("div",{staticClass:"like",class:{liked:e.liked},on:{click:function(i){return i.stopPropagation(),t.likeThisComment(e.commentId,e.liked)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.likedCount>0,expression:"item.likedCount > 0"}]},[t._v(t._s(e.likedCount))]),t._v(" "),i("i",{staticClass:"comment",class:{commentzan:!e.liked,commentzan1:e.liked}})])]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.setCon(e.content))}})])])})],2)},staticRenderFns:[]};var r=i("C7Lr")(n,o,!1,function(t){i("fdRk")},"data-v-186960a0",null);e.a=r.exports},RrEr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),a=i.n(s),n=i("OAll"),o=i("lC5x"),r=i.n(o),c=i("J0Oq"),l=i.n(c),d=i("Ppka"),u={name:"homeIcons",data:function(){return{homeIcons:d.c}},mounted:function(){this.iniData()},methods:{iniData:function(){var t=this;return l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.homeIcons=Object(d.c)();case 1:case"end":return e.stop()}},e,t)}))()}},components:{icon:i("j0X3").a}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper border-bottom"},[e("div",{staticClass:"container"},[e("ul",{staticClass:"icons-group"},this._l(this.homeIcons,function(t,i){return e("icon",{key:i,tag:"li",attrs:{icons:t,width:!0,bgcolor:!0}})}),1)])])},staticRenderFns:[]};var h=i("C7Lr")(u,v,!1,function(t){i("OdCA")},"data-v-27136ae0",null).exports,m={name:"homeList",data:function(){return{homeListContext:[]}},props:["num"],mounted:function(){this.recordNum=this.num.recordNum,this.djNum=this.num.djNum,this.homeListContext=Object(d.d)()},watch:{num:{deep:!0,handler:function(t,e){this.recordNum=t.recordNum,this.djNum=t.djNum,this.setData()}}},methods:{setData:function(){var t=Object(d.d)();this.$set(t[1],"num",this.recordNum),this.$set(t[3],"num",this.djNum),this.homeListContext=t},handleClick:function(t){switch(console.log(t),t){case"最近播放":this.$router.push("/recently");break;case"我的收藏":this.$router.push("/favorite");break;case"我的电台":this.$router.push("/dj_sublist")}}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pd13"},[i("ul",t._l(t.homeListContext,function(e,s){return i("li",{key:s,staticClass:"list-item"},[i("i",{staticClass:"home",class:e.icon}),t._v(" "),i("div",{staticClass:"border-bottom wrapper",on:{click:function(i){return i.stopPropagation(),t.handleClick(e.text)}}},[i("span",{staticClass:"list-content"},[t._v(t._s(e.text))]),t._v(" "),i("span",{ref:"homeNum",refInFor:!0,staticClass:"num"},[t._v("("+t._s(e.num)+")")])])])}),0)])},staticRenderFns:[]};var p=i("C7Lr")(m,f,!1,function(t){i("WQLc")},"data-v-cbb19aa8",null).exports,g=i("gyMJ"),_={data:function(){return{isShow:!1,playListName:"",checked:!1}},created:function(){this.changeFocus()},methods:{open:function(){this.isShow=!0},hide:function(){this.isShow=!1},open2:function(){this.$message({message:"成功添加歌单,请2分钟后刷新查看",type:"success"})},pushNewPlaylist:function(){var t=this,e=void 0;this.checked&&(e=10),g.a.addPlaylistFn(this.playListName,e).then(function(e){200===e.data.code&&(t.open2(),t.clearInp(),t.hide())}).catch(function(t){console.log(t)})},changeFocus:function(){var t=this;this.$nextTick(function(e){t.$refs.inp.focus()})},clearInp:function(){this.playListName=""}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"middle"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"mask",on:{click:t.hide}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"addInfo pd23"},[i("h1",{staticClass:"title"},[t._v("新建歌单")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.playListName,expression:"playListName",modifiers:{trim:!0}}],ref:"inp",staticClass:"playlistName",attrs:{type:"text",placeholder:"请输入歌单标题",autofocus:"autofocus"},domProps:{value:t.playListName},on:{input:function(e){e.target.composing||(t.playListName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.playListName,expression:"playListName"}],staticClass:"search search-guanbi",on:{click:t.clearInp}})]),t._v(" "),i("div",{staticClass:"line"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#dd001b"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("设置为隐私歌单")]),t._v(" "),i("span",{staticClass:"length"},[t._v(t._s(t.playListName.length)+"/40")])],1),t._v(" "),i("div",{staticClass:"button"},[i("div",{staticClass:"btn",on:{click:t.hide}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"btn",class:{disable:!t.playListName},on:{click:t.pushNewPlaylist}},[t._v("提交")])])])])},staticRenderFns:[]};var b={name:"songList",data:function(){return{favoritesList:[],createList:[],myLoveList:[]}},filters:{setName:function(t){return new RegExp(/喜欢的音乐$/).test(t)&&(t="我喜欢的音乐"),t}},props:["index"],mounted:function(){this.favoritesIndex=this.index.favoritesNum,this.createIndex=this.index.createNum,this.getPlaylist(this.$store.state.accountUid)},watch:{index:{deep:!0,handler:function(t,e){this.createIndex=t.createNum,this.favoritesIndex=t.favoritesNum,this.getPlaylist(this.$store.state.accountUid)}}},methods:{showAddNewPlayList:function(){this.$refs.addNewPlaylist.open()},showSlider:function(t,e,i){this.$emit("showSlider",t,e,i)},goAlbumPage:function(t){this.$router.push({name:"albumPage",params:{albumId:t}})},randomNum:function(t,e){return parseInt(Math.random()*(e-t+1)+t,10)},heartMode:function(t){var e=this,i=t,s=void 0;g.a.albumDetailFn(i).then(function(t){var a=t.data;if(200===a.code){var n=a.playlist.trackIds,o=n[e.randomNum(0,n.length)];s=o.id,e.$emit("heartMode",s,i)}})},getPlaylist:function(t){var e=this,i=+new Date;g.a.playlistFn(t,i).then(function(t){var i=t.data;200===i.code&&e.sliceInfo(i.playlist)})},sliceInfo:function(t){var e=this.createIndex,i=this.createIndex+this.favoritesIndex;this.createList=t.slice(0,e),this.myLoveList=this.createList.slice(0,1),this.createList=this.createList.slice(1),this.favoritesList=t.slice(e,i)}},components:{addNewPlaylist:i("C7Lr")(_,C,!1,function(t){i("4/gQ")},null,null).exports}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pd13",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"wrapper-title"},[i("div",{staticClass:"left-title"},[i("i",{staticClass:"home iconarrow"}),t._v(" "),i("span",{staticClass:"title"},[t._v("创建的歌单")]),t._v(" "),i("span",{staticClass:"num"},[t._v("("+t._s(t.index.createNum)+")")])]),t._v(" "),i("div",{staticClass:"right-title"},[i("i",{staticClass:"home iconincrease",on:{click:t.showAddNewPlayList}}),t._v(" "),i("i",{staticClass:"home icondiandiandian"})])]),t._v(" "),i("ul",{staticClass:"song-group"},[t.myLoveList.length?t._e():i("li",{staticClass:"song-list"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),t._l(t.myLoveList,function(e,s){return i("li",{key:s,staticClass:"song-list"},[i("a",{staticClass:"cover",staticStyle:{width:"70%"},on:{click:function(i){return t.goAlbumPage(e.id)}}}),t._v(" "),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}})]),t._v(" "),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title"},[t._v(t._s(t._f("setName")(e.name)))]),t._v(" "),i("p",{staticClass:"list-num"},[t._v(t._s(e.trackCount)+"首")])]),t._v(" "),i("div",{staticClass:"heart-module"},[i("span",{staticClass:"heart-text",on:{click:function(i){return i.stopPropagation(),t.heartMode(e.id)}}},[i("i",{staticClass:"home iconxintiao"}),t._v("心动模式\n        ")])])])}),t._v(" "),t._l(t.createList,function(e,s){return i("li",{key:s+1,staticClass:"song-list"},[i("a",{staticClass:"cover",on:{click:function(i){return t.goAlbumPage(e.id)}}}),t._v(" "),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.privacy,expression:"item.privacy"}],staticClass:"home iconsuo"})]),t._v(" "),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"list-num"},[t._v(t._s(e.trackCount)+"首")])]),t._v(" "),i("div",{staticClass:"heart"},[i("i",{staticClass:"home icondiandiandian",on:{click:function(i){return i.stopPropagation(),t.showSlider(e.name,e.id,e.subscribed)}}})])])})],2),t._v(" "),t.index.favoritesNum?i("div",{staticClass:"wrapper-title"},[i("div",{staticClass:"left-title"},[i("i",{staticClass:"home iconarrow"}),t._v(" "),i("span",{staticClass:"title"},[t._v("收藏的歌单")]),t._v(" "),i("span",{staticClass:"num"},[t._v("("+t._s(t.index.favoritesNum)+")")])]),t._v(" "),t._m(3)]):t._e(),t._v(" "),i("ul",{staticClass:"song-group"},t._l(t.favoritesList,function(e,s){return i("li",{key:s,staticClass:"song-list"},[i("a",{staticClass:"cover",on:{click:function(i){return t.goAlbumPage(e.id)}}}),t._v(" "),i("div",{staticClass:"list-img"},[i("img",{attrs:{src:e.coverImgUrl+"?param=100y100"}})]),t._v(" "),i("div",{staticClass:"list-info"},[i("p",{staticClass:"list-title ellipsis"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"list-num"},[t._v("\n          "+t._s(e.trackCount)+"首\n          "),i("span",{staticClass:"nickname"},[t._v("by "+t._s(e.creator.nickname))])])]),t._v(" "),i("div",{staticClass:"heart"},[i("i",{staticClass:"home icondiandiandian",on:{click:function(i){return i.stopPropagation(),t.showSlider(e.name,e.id,e.subscribed)}}})])])}),0),t._v(" "),i("add-new-playlist",{ref:"addNewPlaylist"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-cover"},[e("i",{staticClass:"home iconxin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-info"},[e("p",{staticClass:"list-title"},[this._v("我喜欢的音乐")]),this._v(" "),e("p",{staticClass:"list-num"},[this._v("0首")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"heart-module"},[e("span",{staticClass:"heart-text"},[e("i",{staticClass:"home iconxintiao"}),this._v("心动模式\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-title"},[e("i",{staticClass:"home iconincrease"}),this._v(" "),e("i",{staticClass:"home icondiandiandian"})])}]};var w={name:"homeIndex",data:function(){return{homeListNum:{recordNum:0,djNum:0},songListNum:{createNum:0,favoritesNum:0},heartModeList:[],title:"",id:0,homePlaylistSlider:!1,homeFavoritelistSlider:!1}},components:{homeIcons:h,homeList:p,songList:i("C7Lr")(b,y,!1,function(t){i("zb51")},"data-v-c7d83604",null).exports,slider:i("u3Wn").a},methods:a()({_heartMode:function(t,e){var i=this;g.a.heartModeFn(t,e).then(function(t){var e=t.data;if(200===e.code){var s=e.data;i.ruleModeList(s,"songInfo"),console.log(i.heartModeList),i.startPlayAll({list:i.heartModeList})}})},ruleModeList:function(t,e){var i=this;t.forEach(function(t){i.heartModeList.push(t[e])})},showSlider:function(t,e,i){this.title="歌单："+t,this.id=e,i?(this.homeFavoritelistSlider=!0,this.homePlaylistSlider=!1):(this.homeFavoritelistSlider=!1,this.homePlaylistSlider=!0),this.$refs.slider.showSlider()},getRecord:function(t){var e=this,i=localStorage.getItem("accountUid");t=t||i,g.a.userRecordFn(t).then(function(t){e.homeListNum.recordNum=t.data.weekData.length}).catch(function(t){console.log(t)})},_getInfo:function(){var t=this,e=+new Date;g.a.userInfoFn(e).then(function(e){var i=e.data;200===i.code&&(t.homeListNum.djNum=i.djRadioCount,t.songListNum.createNum=i.createdPlaylistCount,t.songListNum.favoritesNum=i.subPlaylistCount)})}},Object(n.b)(["startPlayAll"])),computed:a()({},Object(n.c)({loginState:"LOGIN_STATE"}),Object(n.c)({accountUid:"ACCOUNT_UID"})),activated:function(){var t=+localStorage.getItem("loginState");(this.loginState||t)&&(this._getInfo(),this.getRecord(this.accountUid))}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("home-icons"),t._v(" "),i("home-list",{attrs:{num:t.homeListNum}}),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("song-list",{ref:"songList",attrs:{index:t.songListNum},on:{showSlider:t.showSlider,heartMode:t._heartMode}}),t._v(" "),i("slider",{ref:"slider",attrs:{title:t.title,id:t.id,homeFavoritelistSlider:t.homeFavoritelistSlider,homePlaylistSlider:t.homePlaylistSlider}})],1)},staticRenderFns:[]};var k=i("C7Lr")(w,x,!1,function(t){i("Potm")},"data-v-b21f7b7a",null);e.default=k.exports},TDbU:function(t,e){},Uxjm:function(t,e){},VvUA:function(t,e){},WQLc:function(t,e){},"a/bF":function(t,e){},bS9y:function(t,e){},erpL:function(t,e){},fdRk:function(t,e){},gvJt:function(t,e){},lF0V:function(t,e){},laug:function(t,e){},m9I1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("gyMJ"),a=i("p0+K"),n=i("mdS2"),o={name:"",data:function(){return{data:[],load:!0}},created:function(){this._getVideoDetail(58104)},methods:{_getVideoDetail:function(t){var e=this;s.a.getVideoGroupFn(t).then(function(t){var i=t.data;200===i.code&&(e.data=i.datas,e.load=!1)})},hideVideo:function(){this.$refs.public.stopVideoTag()}},components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("qCxq")},"data-v-ddb3d548",null);e.default=c.exports},mgsT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("4fg9")},"data-v-4a55166a",null);e.default=c.exports},n13B:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("+Hgi")},"data-v-3d07a5f7",null);e.default=c.exports},"o/6z":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("bS9y")},"data-v-f57818e0",null);e.default=c.exports},"p0+K":function(t,e,i){"use strict";var s=i("lC5x"),a=i.n(s),n=i("J0Oq"),o=i.n(n),r=i("pNK0"),c=i("DiR2"),l=i("Jgv7"),d=i("gyMJ"),u=void 0,v={name:"",data:function(){return{pause:"",play:"",timer:null,playTime:"00:00",allTime:0,progressWidth:0}},props:{data:{type:Array}},filters:{setCount:function(t){return Object(r.c)(t)},setTime:function(t){return Object(r.d)(t)}},methods:{playVideo:function(t,e){var i=this;isNaN(u)||u!==t&&this.stopVideoTag(u),u=t,this.$nextTick(o()(a.a.mark(function s(){var n,o;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(n=i.$refs.video[t]).src.includes("localhost")){s.next=7;break}return i.$refs.load[t].block(),s.next=5,d.a.getVideoUrlFn(e);case 5:o=s.sent,n.src=o.data.urls[0].url;case 7:i.showVideoTag(t),i.showFnBtn(t),n.paused?i.videoPlay(n,t):i.videoPause(n,t);case 10:case"end":return s.stop()}},s,i)})))},stopVideoTag:function(t){var e=t||u;if(!isNaN(e)){var i=this.$refs.video[e];this.hideVideoTag(e),i.pause(),i.currentTime=0}},likeVideo:function(t){this.$emit("likeVideo",5,t),d.a.resourceLikeOutFn(5,t).then(function(t){var e=t.data;200===e.code&&console.log(e)})},showFnBtn:function(t){this.$refs.fnBtn[t].style.zIndex=1,this.play="play"+t},setBarTime:function(t){var e=this.$refs.video[t],i=Math.floor(e.currentTime/60),s=Math.floor(e.currentTime-60*i),a=(i<10?"0"+i:i)+":"+(s<10?"0"+s:s);this.playTime=a;var n=e.currentTime/e.duration*100;this.setProgress(n)},setProgress:function(t){t<0||t>100||(this.progressWidth=t)},startPlay:function(t){this.$refs.load[t].none()},showVideoTag:function(t){this.$refs.playVideo[t].style.zIndex=1},hideVideoTag:function(t){this.$refs.playVideo[t].style.zIndex="-1"},videoPlay:function(t,e){t.play(),this.play="play"+e,this.pause="",this.hideFnBtn(e)},changeTime:function(t,e){var i=this.$refs.video[e],s=t*i.duration/100;i.currentTime=s,this.videoPlay(i,e)},videoPause:function(t,e){t.pause(),this.hideFnBtn(e),this.pause="pause"+e,this.play=""},hideFnBtn:function(t){var e=this;this.showFnBtn(t),e.$refs.fnBtn[t].style.display="block",this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.$refs.fnBtn[t].style.display="none"},2e3)},toVideoCom:function(t){this.$router.push({name:"videoComments",params:{id:t}})}},components:{circleLoading:c.a,bar:l.a}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.data,function(e,s){return i("div",{key:s},[i("div",{staticClass:"videoInfo pd23"},[i("img",{ref:"videoImg",refInFor:!0,attrs:{src:e.data.coverUrl+"?param=360y170",alt:""}}),t._v(" "),i("circle-loading",{ref:"load",refInFor:!0,staticClass:"none",attrs:{type:"absolute",width:"6.7rem",height:"3.8rem"}}),t._v(" "),i("div",{ref:"playVideo",refInFor:!0,staticClass:"play-video",on:{touchstart:function(e){return t.hideFnBtn(s)}}},[i("video",{ref:"video",refInFor:!0,staticClass:"video_tag",attrs:{src:"localhost"},on:{canplay:function(e){return t.startPlay(s)},timeupdate:function(e){return t.setBarTime(s)}}}),t._v(" "),i("div",{ref:"fnBtn",refInFor:!0,staticClass:"fn-btn",on:{click:function(t){t.stopPropagation()}}},[i("span",{ref:"button",refInFor:!0,staticClass:"center-bofang"},[i("i",{staticClass:"video",class:{videobofang1:t.pause==="pause"+s,videozantingtingzhi:t.play==="play"+s},on:{click:function(e){return t.playVideo(s)}}})]),t._v(" "),i("bar",{staticClass:"bar",attrs:{index:s,allTime:e.data.durationms,time:t.playTime,width:t.progressWidth},on:{time:t.changeTime}})],1)]),t._v(" "),i("span",{staticClass:"tag"},[t._v(t._s(e.data.videoGroup?e.data.videoGroup[0].name:""))]),t._v(" "),i("span",{staticClass:"center-bofang"},[i("i",{staticClass:"video videobofang1",on:{click:function(i){return t.playVideo(s,e.data.vid)}}})]),t._v(" "),i("span",{staticClass:"go-count"},[i("i",{staticClass:"video videobofang"}),t._v("\n        "+t._s(t._f("setCount")(e.data.playTime))+"\n      ")]),t._v(" "),i("span",{staticClass:"go-time"},[i("i",{staticClass:"video videoyinlebofangxuanlvjiezou"}),t._v("\n        "+t._s(t._f("setTime")(e.data.durationms))+"\n      ")])],1),t._v(" "),i("h1",{staticClass:"title pd23"},[t._v(t._s(e.data.title))]),t._v(" "),i("div",{staticClass:"bottom border-top pd23"},[i("div",{staticClass:"creator"},[i("div",{staticClass:"img-info"},[i("img",{attrs:{src:e.data.creator.avatarUrl+"?param=50y50",alt:""}})]),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(e.data.creator.nickname))])]),t._v(" "),i("div",{staticClass:"button"},[i("span",{staticClass:"praised",on:{click:function(i){return t.likeVideo(e.data.vid)}}},[i("i",{staticClass:"video videozan"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setCount")(e.data.praisedCount)))])]),t._v(" "),i("span",{staticClass:"comment",on:{click:function(i){return t.toVideoCom(e.data.vid)}}},[i("i",{staticClass:"video videopinglun"}),t._v(" "),i("i",{staticClass:"num"},[t._v(t._s(t._f("setCount")(e.data.commentCount)))])]),t._v(" "),t._m(0,!0)])]),t._v(" "),i("div",{staticClass:"split"})])}),0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"share"},[e("i",{staticClass:"video videodiandiandian"})])}]};var m=i("C7Lr")(v,h,!1,function(t){i("laug")},"data-v-43a0a707",null);e.a=m.exports},pUf7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("VvUA")},"data-v-c6e14faa",null);e.default=c.exports},qCxq:function(t,e){},qHVW:function(t,e){},qZis:function(t,e){},rAYK:function(t,e,i){"use strict";var s=i("f0X5"),a={name:"",data:function(){return{user:!1,comId:0}},props:{isShow:{type:Boolean}},created:function(){var t=this;s.a.$on("user",function(e){t.user=e}),s.a.$on("comId",function(e){t.comId=e})},computed:{_isShow:{get:function(){return this.isShow},set:function(t){this.$emit("update:show",t)}}},methods:{hideCon:function(){this._isShow=!1},delCom:function(){this.$emit("delCom",this.comId)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t._isShow,expression:"_isShow"}],staticClass:"container"},[i("div",{staticClass:"mask",on:{click:t.hideCon}}),t._v(" "),i("ul",{staticClass:"list-wra"},[i("li",{staticClass:"list-item"},[t._v("回复评论")]),t._v(" "),i("li",{staticClass:"list-item"},[t._v("分享评论")]),t._v(" "),i("li",{staticClass:"list-item"},[t._v("复制评论")]),t._v(" "),t.user?t._e():i("li",{staticClass:"list-item"},[t._v("举报评论")]),t._v(" "),t.user?i("li",{staticClass:"list-item",on:{click:t.delCom}},[t._v("删除评论")]):t._e()])])},staticRenderFns:[]};var o=i("C7Lr")(a,n,!1,function(t){i("B/eQ")},"data-v-9f10057a",null);e.a=o.exports},s7BZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("Ecpy")},"data-v-46fb5379",null);e.default=c.exports},svA8:function(t,e){},tkpd:function(t,e){},u3Wn:function(t,e,i){"use strict";var s,a=i("a3Yh"),n=i.n(a),o=(i("f993"),i("gq6/"),i("wS2/"),i("/QMg"),i("BMG7"),i("tg99"),i("90KV"),i("xYMw"),i("INaQ"),i("a/bF"),i("OJPE")),r=i("+RKF"),c=i("p9F6"),l=i.n(c),d=i("F+3I"),u=i("kq6s"),v=i("YLQP"),h=i("BEB5"),m=i("5SI3"),f=Object(d.b)("goods-action"),p=f[0],g=f[1],_=p({mixins:[Object(m.b)("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){return(0,arguments[0])("div",{class:g({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),C=i("9T9K"),b=Object(d.b)("goods-action-button"),y=b[0],w=b[1],x=y({mixins:[Object(m.a)("vanGoodsAction")],props:Object(o.a)({},C.c,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),Object(C.b)(this.$router,this)}},render:function(){return(0,arguments[0])(h.a,{class:w([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),k=Object(d.b)("dialog"),N=k[0],L=k[1],F=k[2],S=N({mixins:[Object(v.a)()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,function(i){!1!==i&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1})):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genRoundButtons:function(){var t=this,e=this.$createElement;return e(_,{class:L("footer")},[this.showCancelButton&&e(x,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||F("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:L("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(x,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||F("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:L("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,i=this.$createElement,s=this.showCancelButton&&this.showConfirmButton;return i("div",{class:[u.c,L("footer")]},[this.showCancelButton&&i(h.a,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||F("cancel")},class:L("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&i(h.a,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||F("confirm")},class:[L("confirm"),(t={},t[u.a]=s,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var i=this.$createElement;if(e)return i("div",{class:L("content")},[e]);var s=this.message,a=this.messageAlign;if(s){var n,o,r={class:L("message",(n={"has-title":t},n[a]=a,n)),domProps:(o={},o[this.allowHtml?"innerHTML":"textContent"]=s,o)};return i("div",{class:L("content",{isolated:!t})},[i("div",l()([{},r]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,i=this.slots(),s=this.slots("title")||this.title,a=s&&t("div",{class:L("header",{isolated:!e&&!i})},[s]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e},class:[L([this.theme]),this.className],style:{width:Object(d.a)(this.width)}},[a,this.genContent(s,i),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});function I(t){return d.i?Promise.resolve():new Promise(function(e,i){var a;s&&(a=s.$el,document.body.contains(a))||(s&&s.$destroy(),(s=new(r.a.extend(S))({el:document.createElement("div"),propsData:{lazyRender:!1}})).$on("input",function(t){s.value=t})),Object(o.a)(s,I.currentOptions,t,{resolve:e,reject:i})})}I.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){s["confirm"===t?"resolve":"reject"](t)}},I.alert=I,I.confirm=function(t){return I(Object(o.a)({showCancelButton:!0},t))},I.close=function(){s&&(s.value=!1)},I.setDefaultOptions=function(t){Object(o.a)(I.currentOptions,t)},I.resetDefaultOptions=function(){I.currentOptions=Object(o.a)({},I.defaultOptions)},I.resetDefaultOptions(),I.install=function(){r.a.use(S)},I.Component=S,r.a.prototype.$dialog=I;var $=I,T=(i("R7ni"),i("AJHw")),P=i("gyMJ"),j={data:function(){return{drawer:!1,direction:"btt",show:!1,homePlaylist:[{icon:"sliderxiazai",text:"下载"},{icon:"sliderfenxiang",text:"分享"},{icon:"sliderbianji",text:"编辑歌单信息"},{icon:"slidericonfont-shanchu",text:"删除"}],homeFavoritelist:[{icon:"sliderxiazai",text:"下载"},{icon:"sliderfenxiang",text:"分享"},{icon:"slidericonfont-shanchu",text:"删除"}],djDetail:[{icon:"sliderxiazai",text:"下载"},{icon:"sliderpinglun",text:"评论"},{icon:"sliderfenxiang",text:"分享"},{icon:"sliderjubao",text:"举报"}]}},props:{title:{type:String},author:{type:String},imgUrl:{type:String},id:{type:Number},homePlaylistSlider:{type:Boolean,default:!1},homeFavoritelistSlider:{type:Boolean,default:!1},djDetailList:{type:Boolean,default:!1}},computed:{data:function(){return this.homePlaylistSlider?this.homePlaylist:this.homeFavoritelistSlider?this.homeFavoritelist:this.djDetailList?this.djDetail:[]},size:function(){return 10*this.data.length+"%"}},methods:{deleteItem:function(t){var e=this;this.drawer=!1,this.$dialog.confirm({message:"确认删除此歌单吗？"}).then(function(i){e.homeFavoritelistSlider?e._cancelPlayList(t):e._deleteCreatedList(t)}).catch(function(t){e.drawer=!1})},_cancelPlayList:function(t){P.a.addOrDeletePlaylistFn(2,t).then(function(t){200===t.data.code&&Object(T.a)({position:"bottom",message:"已删除"})}).catch(function(t){console.log(t)})},_deleteCreatedList:function(t){P.a.deletePlaylistFn(t).then(function(t){200===t.data.code&&Object(T.a)({position:"bottom",message:"已删除"})}).catch(function(t){console.log(t)})},commentsItem:function(t){var e=t,i=this.title,s=this.author,a=this.imgUrl;this.$router.push({name:"comments",params:{djId:e,imgUrl:a,title:i,author:s}})},showSlider:function(){this.drawer=!0},itemHandle:function(t,e){switch(t){case"删除":this.deleteItem(e);break;case"评论":this.commentsItem(e)}}},components:n()({},$.Component.name,$.Component)},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-action-sheet",{staticClass:"van-ellipsis",attrs:{title:t.title},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("div",t._l(t.data,function(e,s){return i("p",{key:s,staticClass:"item pd23 border-bottom"},[i("a",{staticClass:"cover",on:{click:function(i){return t.itemHandle(e.text,t.id)}}}),t._v(" "),i("i",{staticClass:"slider",class:e.icon}),t._v("\n        "+t._s(e.text)+"\n      ")])}),0)])],1)},staticRenderFns:[]};var O=i("C7Lr")(j,B,!1,function(t){i("qZis")},null,null);e.a=O.exports},uf7t:function(t,e){},ujvf:function(t,e){},vynH:function(t,e,i){"use strict";var s={name:"",props:{active:{type:String,default:"second"},count:{type:Number},firstNav:{type:String},secondNav:{type:String}},methods:{changeToFirst:function(){this.$emit("changeToFirst")},changeToSecond:function(){this.$emit("changeToSecond")}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("div",{staticClass:"content",on:{click:t.changeToFirst}},[i("span",{staticClass:"under-line",class:{active:"first"===t.active}},[t._v(t._s(t.firstNav))])]),t._v(" "),i("div",{staticClass:"content",on:{click:t.changeToSecond}},[i("span",{staticClass:"under-line",class:{active:"second"===t.active}},[t._v(t._s(t.secondNav))]),t._v(" "),i("span",{staticClass:"num"},[t._v(t._s(t.count))])])])},staticRenderFns:[]};var n=i("C7Lr")(s,a,!1,function(t){i("E4Ld")},"data-v-a462d982",null);e.a=n.exports},wHMT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("8tjg"),a=i("p0+K"),n=i("mdS2"),o={mixins:[s.c],name:"",components:{publicImgCard:a.a,pageLoading:n.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.hideVideo}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:this.load,expression:"load"}]}),this._v(" "),e("public-img-card",{directives:[{name:"show",rawName:"v-show",value:!this.load,expression:"!load"}],ref:"public",attrs:{data:this.data}})],1)},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(t){i("uf7t")},"data-v-1e3bd5f1",null);e.default=c.exports},xYMw:function(t,e){},zb51:function(t,e){}});
//# sourceMappingURL=2.3737fb7b65e13c10bfa1.js.map