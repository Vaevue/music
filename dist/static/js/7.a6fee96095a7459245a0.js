webpackJsonp([7],{"3Dww":function(t,n){},"9YeS":function(t,n){},AqIi:function(t,n){},Ay6i:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i("4YfN"),a=i.n(e),s=i("OAll"),o=i("gyMJ"),c={name:"loginTop",data:function(){return{avatarUrl:"",nickname:"",level:0,is_Sign:!1}},props:{loginState:{type:Number,default:0}},created:function(){var t=this;this.$nextTick(function(){t.getUserInfo(t.loginState)})},computed:{_loginState:{get:function(){return this.loginState},set:function(t){this.$emit("update_state",t)}},isSign:{get:function(){return this.is_Sign?this.is_Sign:function(t){for(var n=t+"=",i=document.cookie.split(";"),e=0;e<i.length;e++){for(var a=i[e];""===a.charAt(0);)a=a.substring(1);if(-1!==a.indexOf(n))return a.substring(n.length,a.length)}return""}("sign").slice(1)},set:function(t){this.is_Sign=t}}},methods:a()({getUserInfo:function(t){t&&(this.level=localStorage.getItem("level"),this.avatarUrl=localStorage.getItem("avatarUrl"),this.nickname=localStorage.getItem("nickname"))},goUserInfo:function(){this.$router.push("/user_info")},setSignCookie:function(){var t,n,i,e,a,s,o=new Date,c=o.getTime(),r=864e5-(c-(new Date(o.toLocaleDateString()).getTime()-1)),l=new Date;l.setTime(r+c),t=!0,n=l,s=encodeURIComponent("sign")+"="+encodeURIComponent(t),n instanceof Date&&(s+="; expires="+n.toGMTString()),i&&(s+="; path="+i),e&&(s+="; domain="+e),a&&(s+="; secure"),document.cookie=s},sign:function(){var t=this;o.a.signInFn().then(function(n){200===n.data.code&&(console.log("签到成功"),t.isSign=!0,t.setSignCookie())}).catch(function(n){n&&(console.log("用户已经签到"),t.is_Sign=!0,t.setSignCookie())})}},Object(s.d)(["HIDE_LOGIN"]))},r={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper",class:{loginBg:!t.loginState}},[t.loginState?t._e():i("div",{staticClass:"no-login"},[t._m(0),t._v(" "),i("router-link",{staticClass:"to-login",attrs:{to:"/login",tag:"button"},nativeOn:{click:function(n){return t.HIDE_LOGIN(n)}}},[t._v("立即登录")])],1),t._v(" "),t.loginState?i("div",{staticClass:"login-ed",on:{click:t.goUserInfo}},[i("div",{staticClass:"img-info"},[i("img",{staticClass:"account-bg",attrs:{src:t.avatarUrl+"?param=200y200",alt:""}})]),t._v(" "),i("div",{staticClass:"nickname"},[i("span",{staticClass:"account-nickname"},[t._v(t._s(t.nickname))]),t._v(" "),i("span",{staticClass:"level"},[t._v("Lv."+t._s(t.level))])]),t._v(" "),i("div",{staticClass:"daily_sign-in"},[i("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.isSign,expression:"!isSign"}],attrs:{type:"primary",size:"small",color:"#dd001b",round:""},on:{click:function(n){return n.stopPropagation(),t.sign(n)}}},[i("i",{staticClass:"login icontubiaozhizuo-"}),t._v("签到\n      ")]),t._v(" "),i("van-button",{directives:[{name:"show",rawName:"v-show",value:t.isSign,expression:"isSign"}],staticClass:"sign",attrs:{size:"small",round:""}},[t._v("\n        已签到\n        "),i("i",{staticClass:"login iconyoujiantou"})])],1)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"content"},[n("p",[this._v("登陆网易云音乐")]),this._v(" "),n("p",[this._v("手机电脑多端同步，尽享海量高品质音乐")])])}]};var l=i("C7Lr")(c,r,!1,function(t){i("wjml")},"data-v-e2ea30f6",null).exports,u=i("lC5x"),v=i.n(u),g=i("J0Oq"),d=i.n(g),f=i("Ppka"),p={name:"loginIcons",components:{icon:i("j0X3").a},data:function(){return{loginIcons:f.e}},mounted:function(){this.iniData()},methods:{iniData:function(){var t=this;return d()(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIcons=Object(f.e)();case 1:case"end":return n.stop()}},n,t)}))()}}},m={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"container border-bottom"},[i("ul",{staticClass:"icons-wrapper"},t._l(t.loginIcons,function(n,e){return i("li",{key:e,staticClass:"icon-list"},[i("div",{staticClass:"icon"},[i("i",{staticClass:"login",class:n.icon})]),t._v(" "),i("span",{staticClass:"icon-text"},[t._v(t._s(n.text))])])}),0)])},staticRenderFns:[]};var _=i("C7Lr")(p,m,!1,function(t){i("3Dww")},"data-v-1395ee17",null).exports,h={name:"loginIconsTop",data:function(){return{loginIconsTop:f.g}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return d()(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIconsTop=Object(f.g)();case 1:case"end":return n.stop()}},n,t)}))()}}},C={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper pd23 border-bottom"},[i("ul",t._l(t.loginIconsTop,function(n,e){return i("li",{key:e,staticClass:"list"},[i("i",{staticClass:"login",class:n.icon}),t._v(" "),i("span",{staticClass:"list-text"},[t._v(t._s(n.text))])])}),0)])},staticRenderFns:[]};var I=i("C7Lr")(h,C,!1,function(t){i("9YeS")},"data-v-dadc7410",null).exports,w={name:"loginIconsBottom",data:function(){return{loginIconsBottom:f.f}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;return d()(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.loginIconsBottom=Object(f.f)();case 1:case"end":return n.stop()}},n,t)}))()}}},S={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper pd23 border-bottom"},[i("ul",t._l(t.loginIconsBottom,function(n,e){return i("li",{key:e,staticClass:"list"},[i("i",{staticClass:"login",class:n.icon}),t._v(" "),i("span",{staticClass:"list-text"},[t._v(t._s(n.text))])])}),0)])},staticRenderFns:[]};var k=i("C7Lr")(w,S,!1,function(t){i("AqIi")},"data-v-a1807ed2",null).exports,O={name:"loginBottom",computed:a()({},Object(s.c)({iconyueliang1:"ICON_NIGHT",icontaiyang:"ICON_SUN",modeText:"MODE_TEXT"})),methods:a()({logout:function(){this.$emit("logout")}},Object(s.d)(["TOGGLE_MODE"]))},b={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper border-top"},[i("span",{on:{click:t.TOGGLE_MODE}},[i("i",{staticClass:"login",class:{iconyueliang1:t.iconyueliang1,icontaiyang:t.icontaiyang}}),t._v(" "),i("span",[t._v(t._s(t.modeText)+"间模式")])]),t._v(" "),t._m(0),t._v(" "),i("span",{on:{click:t.logout}},[i("i",{staticClass:"login icondianyuan"}),t._v(" "),i("span",[t._v("退出")])])])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("span",[n("i",{staticClass:"login iconshezhi"}),this._v(" "),n("span",[this._v("设置")])])}]};var x=i("C7Lr")(O,b,!1,function(t){i("twHp")},"data-v-3db91226",null).exports,E={name:"login",data:function(){return{loginState:+localStorage.getItem("loginState")}},computed:a()({},Object(s.c)(["LEVEL"])),methods:a()({logout:function(){var t=this;o.a.logoutFn().then(function(n){var i=n.data;200===i.code&&(console.log(i),localStorage.setItem("loginState",0),t.LOGIN_STATE(0),location.reload())})}},Object(s.d)(["LOGIN_STATE"])),components:{loginTop:l,loginIcons:_,loginIconsTop:I,loginIconsBottom:k,loginBottom:x}},T={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"login-menu"},[n("login-top",{attrs:{loginState:this.loginState}}),this._v(" "),n("login-icons"),this._v(" "),n("login-icons-top"),this._v(" "),n("login-icons-bottom"),this._v(" "),n("login-bottom",{on:{logout:this.logout}})],1)},staticRenderFns:[]};var L={name:"",components:{login:i("C7Lr")(E,T,!1,function(t){i("ObTr")},"data-v-05b874f2",null).exports},computed:a()({},Object(s.c)({loginPage:"LOGIN_PAGE"})),methods:a()({},Object(s.d)(["HIDE_LOGIN"]))},D={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("transition",{attrs:{name:"mask-show"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.loginPage,expression:"loginPage"}],staticClass:"mask",on:{click:this.HIDE_LOGIN,touchmove:function(t){t.preventDefault()}}})]),this._v(" "),n("transition",{attrs:{name:"login-show",mode:"out-in"}},[n("login",{directives:[{name:"show",rawName:"v-show",value:this.loginPage,expression:"loginPage"}],on:{touchmove:function(t){t.preventDefault()}}})],1)],1)},staticRenderFns:[]};var y=i("C7Lr")(L,D,!1,function(t){i("y7KG")},"data-v-098f8041",null).exports,N={name:"defaultNav",methods:a()({},Object(s.d)(["SHOW_LOGIN"])),components:{loginPageIsShow:y}},G={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("nav",{staticClass:"nav-wrapper"},[i("div",{staticClass:"nav-left"},[i("i",{staticClass:"nav iconnav ripple",on:{click:t.SHOW_LOGIN}})]),t._v(" "),i("ul",{staticClass:"nav-center"},[i("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/home"}},[t._v("我的")]),t._v(" "),i("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/find"}},[t._v("发现")]),t._v(" "),i("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/friend"}},[t._v("朋友")]),t._v(" "),i("router-link",{staticClass:"nav-title ripple",attrs:{tag:"li",replace:"",to:"/videoPage"}},[t._v("视频")])],1),t._v(" "),i("div",{staticClass:"nav-right"},[i("router-link",{staticClass:"nav iconsousuo ripple",attrs:{to:"/search",tag:"i"}})],1),t._v(" "),i("login-page-is-show")],1),t._v(" "),i("keep-alive",[i("router-view")],1)],1)},staticRenderFns:[]};var j=i("C7Lr")(N,G,!1,function(t){i("ZfWz")},"data-v-12fd4d6a",null);n.default=j.exports},ObTr:function(t,n){},ZfWz:function(t,n){},twHp:function(t,n){},wjml:function(t,n){},y7KG:function(t,n){}});
//# sourceMappingURL=7.a6fee96095a7459245a0.js.map