webpackJsonp([13],{BiBh:function(t,s){},PO4m:function(t,s){},RiY1:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("4YfN"),a=i.n(e),n=i("gyMJ"),l=i("C1C0"),o=i("s9E1"),r=i("OAll"),c={name:"",methods:a()({},Object(r.d)(["SHOW_LOGIN"]))},u={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"center"},[s("p",{staticClass:"m3"},[this._v("当前未登录，请您跳转登陆页面进行登陆")]),this._v(" "),s("router-link",{attrs:{to:"login"}},[this._v("点我去登陆")])],1)},staticRenderFns:[]};var d=i("C7Lr")(c,u,!1,function(t){i("PO4m")},"data-v-13453d55",null).exports,m={name:"",data:function(){return{songLists:[],load:"",isLogin:+localStorage.getItem("loginState")||0}},created:function(){this._getRecSongs()},computed:a()({},Object(r.c)({audioSong:"AUDIO_ING_SONG"})),methods:a()({_getRecSongs:function(){var t=this;0!==this.isLogin?n.a.recSongsFn().then(function(s){var i=s.data;200===i.code&&(t.songLists=i.recommend,t.load=!1)}).catch(function(s){s&&(t.load=!1)}):this.load=!1},startPlay:function(){this.startPlayAll({list:this.songLists})},setAudioList:function(t,s){this.selectPlay({list:this.songLists,index:s})}},Object(r.b)(["selectPlay","startPlayAll"])),components:{songList:l.a,songListPage:o.a,shouldLogin:d}},v={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("song-list-page",{attrs:{title:"每日推荐",load:t.load,isAlbum:!1,height:"3.6rem"},on:{startPlayAll:t.startPlay}},[t._l(t.songLists,function(s,e){return i("song-list",{key:e,attrs:{songName:s.name,artists:s.artists,albumName:s.album.name,imgUrl:s.album.picUrl,nowSong:s.id===t.audioSong.id},on:{beginSong:function(i){return t.setAudioList(s,e)}}})}),t._v(" "),i("should-login",{directives:[{name:"show",rawName:"v-show",value:0===t.isLogin,expression:"isLogin === 0"}]})],2)},staticRenderFns:[]};var h=i("C7Lr")(m,v,!1,function(t){i("BiBh")},"data-v-34c6666b",null);s.default=h.exports},hXUa:function(t,s){},s9E1:function(t,s,i){"use strict";var e=i("ISPS"),a=i("mdS2"),n=i("gyMJ"),l=function(t){return t?(t>1e8?t=(t/1e8).toFixed(1)+"亿":t>1e4&&(t=(t/1e4).toFixed(1)+"万"),t):""},o={name:"",components:{globalNav:e.a,pageLoading:a.a},data:function(){return{iTitle:this.title,iAlbumTitle:this.albumTitle,listFixed:!1,top:"0.5rem",isSubInItem:!1,subscribedCountItem:0}},watch:{title:function(t){this.iTitle=t},albumTitle:function(t){this.iAlbumTitle=t},subscribedCount:function(t){this.subscribedCountItem=t,this.$refs.collection.style.display=0!==t&&t?"":"none"},isSubIn:function(t){this.isSubInItem=t}},props:{albumId:{type:Number},idxId:{type:Number},idxComId:{type:Number},dishId:{type:Number},playCount:{type:Number},height:{type:String,default:"6rem"},subscribedCount:{type:Number},subscribed:{type:Boolean},trackCount:{type:Number},shareCount:{type:Number},commentCount:{type:Number},description:{type:String},author:{type:String},creatorImgUrl:{type:String},albumTitle:{type:String},imgUrl:{type:String},title:{type:String},isAlbum:{type:Boolean,default:!0},load:{type:Boolean,default:!0},isSubIn:{type:Boolean,default:!1}},filters:{setCom:function(t){return t?l(t):"评论"},setShare:function(t){return t?l(t):"分享"},setCol:function(t){return t?l(t):""},setPlay:function(t){return t?l(t):""}},computed:{day:function(){var t=(new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate();return t},month:function(){var t=(new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1;return t}},methods:{addPlaylist:function(){var t=this,s=this.albumId||this.dishId||this.idxId;n.a.addOrDeletePlaylistFn(1,s).then(function(s){200===s.data.code&&(t.isSubInItem=!0,++t.subscribedCountItem)})},deletePlaylist:function(){var t=this,s=this.albumId||this.dishId||this.idxId;n.a.addOrDeletePlaylistFn(2,s).then(function(s){200===s.data.code&&(t.isSubInItem=!1,--t.subscribedCountItem)})},beginAudio:function(){this.$emit("startPlayAll")},goComments:function(){var t=this.albumId?this.albumId:this.idxComId,s=this.dishId,i=this.imgUrl,e=this.albumTitle,a=this.author;this.$router.push({name:"comments",params:{playlistId:t,albumId:s,imgUrl:i,title:e,author:a}})},returnPage:function(){this.$router.go(-1)},scrollList:function(t){var s=this.$el.scrollTop;this.isAlbum?(this.iTitle=s>=148?this.albumTitle:this.title,s>=250?(this.listFixed=!0,this.top="1.3rem"):(this.listFixed=!1,this.top="0.5rem")):s>=148?(this.listFixed=!0,this.top="1.3rem"):(this.listFixed=!1,this.top="0.5rem")}}},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"wrapper",on:{scroll:t.scrollList}},[i("div",{staticClass:"container-top",style:{height:t.height}},[t.isAlbum?t._e():i("global-nav",{staticClass:"fixed pd23",on:{returnPage:t.returnPage}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.listFixed,expression:"listFixed"}],staticClass:"text"},[t._v(t._s(t.iTitle))])]),t._v(" "),t.isAlbum?i("global-nav",{staticClass:"fixed pd23",on:{returnPage:t.returnPage}},[i("span",{staticClass:"text"},[t._v(t._s(t.iTitle))])]):t._e(),t._v(" "),t.isAlbum?t._e():i("div",{staticClass:"pd23"},[i("div",{staticClass:"date"},[i("span",{staticClass:"day"},[t._v(t._s(t.day))]),t._v(" "),i("span",{staticClass:"month"},[t._v(t._s(t.month))])]),t._v(" "),i("div",{staticClass:"info"},[t._v("查收属于您的今日推荐")])]),t._v(" "),t.isAlbum?i("div",{staticClass:"album-info pd23"},[i("div",{staticClass:"info-top"},[i("div",{staticClass:"img-info"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl+"?param=200y200",expression:"imgUrl + '?param=200y200'"}],key:t.imgUrl,attrs:{alt:""}}),t._v(" "),i("span",{staticClass:"play-count"},[i("i",{staticClass:"date-song bofang"}),t._v("\n            "+t._s(t._f("setPlay")(t.playCount))+"\n          ")])]),t._v(" "),i("div",{staticClass:"info-con"},[i("p",{staticClass:"album-title"},[t._v(t._s(t.iAlbumTitle))]),t._v(" "),i("div",{staticClass:"creator"},[i("div",{staticClass:"img-info"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.creatorImgUrl+"?param=200y200",expression:"creatorImgUrl + '?param=200y200'"}],key:t.imgUrl,attrs:{alt:""}})]),t._v(" "),i("span",[t._v("\n              "+t._s(t.author)+"\n              "),i("i",{staticClass:"date-song iconfontjiantou5"})])]),t._v(" "),i("div",{staticClass:"desc-wrapper"},[i("span",{staticClass:"desc"},[t._v(t._s(t.description))]),t._v(" "),i("i",{staticClass:"date-song iconfontjiantou5"})])])]),t._v(" "),i("div",{staticClass:"icons"},[i("div",{staticClass:"comments",on:{click:t.goComments}},[i("i",{staticClass:"date-song pinglun"}),t._v(" "),i("span",[t._v(t._s(t._f("setCom")(t.commentCount)))])]),t._v(" "),i("div",{staticClass:"comments"},[i("i",{staticClass:"date-song fenxiang"}),t._v(" "),i("span",[t._v(t._s(t._f("setShare")(t.shareCount)))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]):t._e()],1),t._v(" "),i("div",{staticClass:"title pd23",class:{listFixed:t.listFixed}},[i("span",[i("span",{on:{click:t.beginAudio}},[i("i",{staticClass:"date-song cbofang"}),t._v("\n        播放全部\n      ")]),t._v(" "),t.isAlbum?i("span",{staticClass:"count"},[t._v("(共"+t._s(t.trackCount)+"首)")]):t._e()]),t._v(" "),t.isAlbum?t._e():i("span",[i("i",{staticClass:"date-song caidan"}),t._v("\n      多选\n    ")]),t._v(" "),t.isAlbum?i("div",{ref:"collection",staticClass:"collection",class:{bg:!t.isSubInItem}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.isSubInItem,expression:"!isSubInItem"}],on:{click:t.addPlaylist}},[t._v("+ 收藏("+t._s(t._f("setCol")(t.subscribedCountItem))+")")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isSubInItem,expression:"isSubInItem"}],on:{click:t.deletePlaylist}},[i("i",{staticClass:"date-song wenjianjia"}),t._v("\n        "+t._s(t._f("setCol")(t.subscribedCountItem))+"\n      ")])]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],staticClass:"list-info",style:{marginTop:t.top}},[t._t("default")],2),t._v(" "),i("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"comments"},[s("i",{staticClass:"date-song xiazai"}),this._v(" "),s("span",[this._v("下载")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"comments"},[s("i",{staticClass:"date-song duoxuankuang"}),this._v(" "),s("span",[this._v("多选")])])}]};var c=i("C7Lr")(o,r,!1,function(t){i("hXUa")},"data-v-54f0e468",null);s.a=c.exports}});
//# sourceMappingURL=13.bc7953ff19d272d4ac19.js.map